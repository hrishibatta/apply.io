<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
    <style>
        html,
        body {
            background: #1c87c9;
            width: 100%;
            overflow-x: hidden;
            overflow-y: hidden;
        }
        
        .bar {
            position: relative;
            height: 2px;
            width: 500px;
            margin: 0 auto;
            background: #fff;
            margin-top: 150px;
            margin-bottom: 150px;
        }
        
        .circle {
            position: absolute;
            top: -30px;
            margin-left: -30px;
            height: 60px;
            width: 60px;
            left: 0;
            background: #fff;
            border-radius: 30%;
            -webkit-animation: move 5s infinite;
        }
        
        p {
            position: absolute;
            top: -35px;
            right: -85px;
            text-transform: uppercase;
            color: #1c87c9;
            font-family: Roboto, sans-serif;
            font-weight: bold;
            margin-top: 25px;
        }
        
        @-webkit-keyframes move {
            0% {
                left: 0;
            }
            50% {
                left: 100%;
                -webkit-transform: rotate(450deg);
                width: 150px;
                height: 150px;
            }
            75% {
                left: 100%;
                -webkit-transform: rotate(450deg);
                width: 150px;
                height: 150px;
            }
            100% {
                right: 100%;
            }
        }
        
        h1 {
            text-align: center;
            color: white;
            font-family: Roboto, sans-serif;
            font-weight: bold;
        }

        h2 {
            text-align: center;
            color: #1c87c9;
            font-family: Roboto, sans-serif;
        }
    </style> 
</head>

<body>

    <div class="bar">
        <div class="circle"></div>
        <p>Applying...</p>
    </div>
    <h1>Congratulations {{data.name}}! You are now applying for jobs.</h1>
    <div class="text-center">
        <button class="btn btn-light" id="appliedBtn" style="margin: 30px;" data-toggle="modal" data-target="#exampleModal"><h2>Applied Jobs</h2></button>
    </div>

    <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Applied Jobs</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="tablediv">
        <table width="100%" class="table table-striped table-bordered table-hover" id="desktop-table">
                      <thead>
                          <tr>
                              <td>Job Title</td>
                              <td>Company</td>
                          </tr>
                      </thead>
                      <script type="text/javascript">
                        var body = document.getElementById("tablediv");
                        var table = document.getElementsByTagName("table")[0];
                        var tblBody = document.createElement('tbody');
                      if (window.XMLHttpRequest)
    {// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp=new XMLHttpRequest();
    }
    else
    {// code for IE6, IE5
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
            var output = xmlhttp.responseText;
            var parsedOutput = JSON.parse(output);
            for (var key in parsedOutput) {
                
                var row = document.createElement('tr');
                var cell1 = document.createElement('td');
                var cell2 = document.createElement('td');
                var cellText1 = document.createTextNode(key);
                var cellText2 = document.createTextNode(parsedOutput[key]);
                cell1.appendChild(cellText1);
                cell2.appendChild(cellText2);
                row.appendChild(cell1);
                row.appendChild(cell2);
                tblBody.appendChild(row);
                table.appendChild(tblBody);
                body.appendChild(table);
            }
            
            return xmlhttp.responseText;
        }
    }
    xmlhttp.open("GET", "http://localhost:5000/JSONOutput", false );
    xmlhttp.send();    

                      </script>
                  </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

</body>

</html>